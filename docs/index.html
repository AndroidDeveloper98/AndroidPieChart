<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Android pie chart</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="alternate icon" type="image/x-icon" href="favicon.ico">
  <!-- We support both dark and light color schemes. Using this breaks background colors (why?) -->
  <!--<meta name="color-scheme" content="dark light">-->
  <!-- Load the theme as soon as possible to prevent white flash -->
  <script src="update-theme.js"></script>
  <link rel="stylesheet" href="styles.css">
  <!-- https://developers.google.com/fonts/docs/css2 -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono">
  <link rel="stylesheet" title="light-code" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/base16/google-light.min.css">
  <link rel="stylesheet" title="dark-code" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/hybrid.min.css" disabled>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
  <script src="highlight-code-snippets.js" defer></script>
  <script src="update-version-placeholder.js" defer></script>
  <script src="jquery-3.6.0.slim.min.js" defer></script>
  <script src="copy-to-clipboard.js" defer></script>
</head>
<body>

<aside>
  <a class="side-item" href="https://github.com/mahozad/android-pie-chart">
    <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <use href="github.svg#icon"></use>
    </svg>
    <div class="tooltip">GitHub repository</div>
  </a>
  <a class="side-item" href="api-docs/v<version>/index.html">
    <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <use href="description.svg#icon"></use>
    </svg>
    <div class="tooltip">API documentation</div>
  </a>
  <a class="side-item" href="https://github.com/mahozad/android-pie-chart/issues">
    <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <use href="bug.svg#icon"></use>
    </svg>
    <div class="tooltip">Bug report and feature request</div>
  </a>
  <a class="side-item" href="https://repo1.maven.org/maven2/ir/mahozad/android/pie-chart/<version>/pie-chart-<version>.aar">
    <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <use href="download.svg#icon"></use>
    </svg>
    <div class="tooltip">Manual download of latest version</div>
  </a>
</aside>

<main>
  <!-- https://stackoverflow.com/q/34393465 -->
  <button id="theme-switch">
    <svg viewBox="0 0 24 24" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <mask id="mask">
          <rect width="24" height="24" fill="#fff"/>
          <circle id="eclipse" r="10" cx="33" cy="6">
            <animate id="anim3" fill="freeze" attributeName="cx" to="20" dur="200ms" begin="indefinite"/>
            <animate id="anim4" fill="freeze" attributeName="cx" to="33" dur="100ms" begin="indefinite"/>
          </circle>
          <path id="letter" opacity="0" fill="none" stroke="#000" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" d="m9 14.5h6m-7 2 4-9 4 9">
            <animate id="anim5" fill="freeze" attributeName="opacity" to="1" dur="200ms" begin="indefinite"/>
            <animate id="anim6" fill="freeze" attributeName="opacity" to="0" dur="200ms" begin="indefinite"/>
          </path>
        </mask>
      </defs>
      <g id="visible-content" mask="url(#mask)">
        <circle id="circle" r="5" cx="12" cy="12">
          <animate id="anim1" fill="freeze" attributeName="r" to="10" dur="200ms" begin="indefinite"/>
          <animate id="anim7" fill="freeze" attributeName="r" to="5" dur="200ms" begin="indefinite"/>
        </circle>
        <g id="rays" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round">
          <animate id="anim2" fill="freeze" attributeName="opacity" to="0" dur="100ms" begin="indefinite"/>
          <animate id="anim8" fill="freeze" attributeName="opacity" to="1" dur="200ms" begin="indefinite"/>
          <animateTransform id="anim9" attributeName="transform" attributeType="XML" type="rotate" from="0 12 12" to="45 12 12" dur="200ms" begin="indefinite"/>
          <path d="m12 1v3"/>
          <path d="m23 12h-3"/>
          <path d="m19.778 4.2218-2.121 2.1213"/>
          <path d="m19.778 19.778-2.121-2.121"/>
          <path d="m4.222 19.778 2.121-2.121"/>
          <path d="m4.222 4.222 2.121 2.121"/>
          <path d="m4 12h-3"/>
          <path d="m12 20v3"/>
        </g>
      </g>
    </svg>
  </button>

  <img src="logo-animated.svg" alt="Logo" height="128px">
  <h1>Android pie chart</h1>

  <p>An Android chart library that can be customized to the most extent possible.</p>
  <p>Scroll below for <a href="#examples">examples</a>.</p>

  <h2>Getting started</h2>

  <h3>build.gradle[.kts]</h3>
  <div class="code">
    <div class="copy">copy</div>
    <pre><code>implementation("ir.mahozad.android:pie-chart:&lt;version&gt;")</code></pre>
  </div>

  <h3>XML layout</h3>
  <div class="code">
    <div class="copy">copy</div>
    <pre><code class="language-xml">&lt;ir.mahozad.android.PieChart
    android:id="@+id/pieChart"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" /&gt;</code></pre>
  </div>

  <h3>Kotlin activity</h3>
  <div class="code">
    <div class="copy">copy</div>
    <pre><code class="language-kotlin">val pieChart = findViewById&lt;PieChart&gt;(R.id.pieChart)
pieChart.slices = listOf(
    PieChart.Slice(0.2f, Color.BLUE),
    PieChart.Slice(0.4f, Color.MAGENTA),
    PieChart.Slice(0.3f, Color.YELLOW),
    PieChart.Slice(0.1f, Color.CYAN)
)</code></pre>
  </div>

  <h3>Jetpack Compose</h3>
  <div class="code">
    <div class="copy">copy</div>
    <pre><code>@Composable
fun PieChartView() {
    AndroidView(
        modifier = Modifier.fillMaxSize(),
        factory = { context ->
            PieChart(context).apply {
                slices = listOf(
                    PieChart.Slice(0.2f, Color.BLUE),
                    PieChart.Slice(0.4f, Color.MAGENTA),
                    PieChart.Slice(0.3f, Color.YELLOW),
                    PieChart.Slice(0.1f, Color.CYAN)
                )
            }
        },
        update = { view ->
            // View's been inflated or state read in this block has been updated
            // Add logic here if necessary
        }
    )
}</code></pre>
  </div>

  <h2 id="examples">Examples</h2>

  <h3 class="example-header">Example 1: A classic donut chart</h3>

  <div class="example">
    <img class="screenshot" src="https://raw.githubusercontent.com/mahozad/android-pie-chart/master/screenshots/screenshot-1.png" alt="Screenshot 1">
    <hr>
    <div class="code">
      <div class="copy">copy</div>
      <pre><code class="language-kotlin">pieChart.apply {
    slices = listOf(
        Slice(0.3f, Color.rgb(120, 181, 0), Color.rgb(149, 224, 0), legend = "Legend A"),
        Slice(0.2f, Color.rgb(204, 168, 0), Color.rgb(249, 228, 0), legend = "Legend B"),
        Slice(0.2f, Color.rgb(0, 162, 216), Color.rgb(31, 199, 255), legend = "Legend C"),
        Slice(0.17f, Color.rgb(255, 4, 4), Color.rgb(255, 72, 86), legend = "Legend D"),
        Slice(0.13f, Color.rgb(160, 165, 170), Color.rgb(175, 180, 185), legend = "Legend E")
    )
    gradientType = PieChart.GradientType.RADIAL
    legendIconsMargin = 8.dp
    legendTitleMargin = 14.dp
    legendLinesMargin = 10.dp
    legendsMargin = 20.dp
    legendsPercentageMargin = 8.dp
    legendsSize = 11.sp
    legendsPercentageSize = 11.sp
    legendsIcon = PieChart.DefaultIcons.SQUARE
}</code></pre>
    </div>
  </div>

  <h3 class="example-header">Example 2: A donut chart with pointers</h3>

  <div class="example">
    <img class="screenshot" src="https://raw.githubusercontent.com/mahozad/android-pie-chart/master/screenshots/screenshot-2.png" alt="Screenshot 2">
    <hr>
    <div class="code">
      <div class="copy">copy</div>
      <pre><code class="language-kotlin">pieChart.apply {
    slices = listOf(
        Slice(0.3f, Color.rgb(120, 181, 0), Color.rgb(149, 224, 0), legend = "Legend A"),
        Slice(0.2f, Color.rgb(204, 168, 0), Color.rgb(249, 228, 0), legend = "Legend B"),
        Slice(0.2f, Color.rgb(0, 162, 216), Color.rgb(31, 199, 255), legend = "Legend C"),
        Slice(0.17f, Color.rgb(255, 4, 4), Color.rgb(255, 72, 86), legend = "Legend D"),
        Slice(0.13f, Color.rgb(160, 165, 170), Color.rgb(175, 180, 185), legend = "Legend E")
    )
    startAngle = 0
    labelType = PieChart.LabelType.OUTSIDE
    slicesPointer = PieChart.SlicePointer(18.dp, 24.dp, 0)
    outsideLabelsMargin = 8.dp
    gradientType = PieChart.GradientType.RADIAL
    legendPosition = PieChart.LegendPosition.END
    legendBoxBorder = 2.dp
    legendBoxBorderCornerRadius = 8.dp
    legendTitleMargin = 14.dp
    legendLinesMargin = 10.dp
    legendsMargin = 20.dp
    legendsPercentageMargin = 8.dp
    legendsSize = 11.sp
    legendsPercentageSize = 11.sp
    legendsIcon = PieChart.DefaultIcons.RECTANGLE_HALLOW
}</code></pre>
    </div>
  </div>

  <h3 class="example-header">Example 3: A donut chart with circular labels</h3>

  <div class="example">
    <img class="screenshot" src="https://raw.githubusercontent.com/mahozad/android-pie-chart/master/screenshots/screenshot-3.png" alt="Screenshot 3">
    <hr>
    <div class="code">
      <div class="copy">copy</div>
      <pre><code class="language-kotlin">pieChart.apply {
    slices = listOf(
        Slice(0.3f, Color.rgb(120, 181, 0), Color.rgb(149, 224, 0), legend = "Legend A", label = "Label A"),
        Slice(0.2f, Color.rgb(204, 168, 0), Color.rgb(249, 228, 0), legend = "Legend B", label = "Label B"),
        Slice(0.2f, Color.rgb(0, 162, 216), Color.rgb(31, 199, 255), legend = "Legend C", label = "Label C"),
        Slice(0.17f, Color.rgb(255, 4, 4), Color.rgb(255, 72, 86), legend = "Legend D", label = "Label D"),
        Slice(0.13f, Color.rgb(160, 165, 170), Color.rgb(175, 180, 185), legend = "Legend E", label = "Last Label")
    )
    startAngle = 0
    labelType = PieChart.LabelType.OUTSIDE_CIRCULAR_INWARD
    labelIconsPlacement = PieChart.IconPlacement.START
    gradientType = PieChart.GradientType.RADIAL
    legendPosition = PieChart.LegendPosition.TOP
    legendArrangement = PieChart.LegendArrangement.VERTICAL
    legendsWrapping = Wrapping.CLIP
    isLegendBoxBorderEnabled = true
    legendBoxBorder = 2.dp
    legendBoxBorderCornerRadius = 8.dp
    legendTitleMargin = 10.dp
    legendsMargin = 8.dp
    legendsPercentageMargin = 8.dp
    legendsSize = 11.sp
    legendsPercentageSize = 11.sp
    legendsIcon = PieChart.DefaultIcons.SLICE2
}</code></pre>
    </div>
  </div>

  <h3 class="example-header">Example 4: A classic pie chart</h3>

  <div class="example">
    <img class="screenshot" src="https://raw.githubusercontent.com/mahozad/android-pie-chart/master/screenshots/screenshot-4.png" alt="Screenshot 4">
    <hr>
    <div class="code">
      <div class="copy">copy</div>
      <pre><code class="language-kotlin">pieChart.apply {
    slices = listOf(
        Slice(0.3f, Color.rgb(120, 181, 0), Color.rgb(149, 224, 0), legend = "Legend A", label = "Label A", labelIcon = R.drawable.ic_circle),
        Slice(0.2f, Color.rgb(204, 168, 0), Color.rgb(249, 228, 0), legend = "Legend B", label = "Label B", labelIcon = R.drawable.ic_square),
        Slice(0.2f, Color.rgb(0, 162, 216), Color.rgb(31, 199, 255), legend = "Legend C", label = "Label C", labelIcon = R.drawable.ic_rectangle_tall),
        Slice(0.17f, Color.rgb(255, 4, 4), Color.rgb(255, 72, 86), legend = "Legend D", label = "Label D", labelIcon = R.drawable.ic_triangle),
        Slice(0.13f, Color.rgb(160, 165, 170), Color.rgb(175, 180, 185), legend = "Legend E", label = "Last Label")
    )
    labelIconsTint = Color.rgb(136, 101, 206)
    startAngle = -90
    isLegendEnabled = false
    labelType = PieChart.LabelType.OUTSIDE
    labelIconsPlacement = PieChart.IconPlacement.TOP
    gradientType = PieChart.GradientType.SWEEP
    holeRatio = 0f
    overlayRatio = 0.75f
    gap = 8.dp
}</code></pre>
    </div>
  </div>

  <h3 class="example-header">Example 5: A ring chart</h3>

  <div class="example">
    <img class="screenshot" src="https://raw.githubusercontent.com/mahozad/android-pie-chart/master/screenshots/screenshot-5.png" alt="Screenshot 5">
    <hr>
    <div class="code">
      <div class="copy">copy</div>
      <pre><code class="language-kotlin">pieChart.apply {
    val customFont = context.resources.getFont(R.font.myCustomFont)
    slices = listOf(
        Slice(0.3f, Color.rgb(120, 181, 0), legend = "Legend A", label = "Label A", labelIcon = R.drawable.ic_circle, labelSize = 18.dp.px),
        Slice(0.2f, Color.rgb(204, 168, 0), legend = "Legend B", label = "Label B", labelIcon = R.drawable.ic_square, labelIconTint = Color.CYAN, labelFont = customFont),
        Slice(0.2f, Color.rgb(0, 162, 216), legend = "Legend C", label = "Label C", labelIcon = R.drawable.ic_rectangle_tall, labelColor = Color.RED),
        Slice(0.17f, Color.rgb(255, 4, 4), legend = "Legend D", label = "Label D", labelIcon = R.drawable.ic_triangle, labelIconHeight = 20.dp.px),
        Slice(0.13f, Color.rgb(160, 165, 170), legend = "Legend E", label = "Last Label")
    )
    startAngle = -90
    isCenterLabelEnabled = true
    centerLabel = "Center label"
    centerLabelColor = Color.GRAY
    centerLabelIconTint = Color.rgb(159, 181, 114)
    legendsTitleColor = Color.MAGENTA
    legendsAlignment = Alignment.START
    centerLabelIcon = PieChart.DefaultIcons.SQUARE_HOLLOW
    legendTitleMargin = 14.dp
    legendsTitleSize = 16.sp
    labelIconsTint = Color.BLACK
    labelType = PieChart.LabelType.OUTSIDE
    isLegendsPercentageEnabled = false
    labelIconsPlacement = PieChart.IconPlacement.TOP
    gradientType = PieChart.GradientType.SWEEP
    holeRatio = 0.85f
}</code></pre>
    </div>
  </div>

</main>
</body>
</html>
